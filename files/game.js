var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e){return null==e?"":e}function l(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function h(){return p(" ")}function f(){return p("")}function m(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.data!==t&&(e.data=t)}function b(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}class ${constructor(e,t=null){this.e=d("div"),this.a=t,this.u(e)}m(e,t=null){for(let n=0;n<this.n.length;n+=1)a(e,this.n[n],t);this.t=e}u(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}p(e){this.d(),this.u(e),this.m(this.t,this.a)}d(){this.n.forEach(c)}}let v;function w(e){v=e}function x(){const e=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);s.slice().forEach(t=>{t.call(e,o)})}}}const k=[],C=[],M=[],T=[],S=Promise.resolve();let A=!1;function j(e){M.push(e)}let N=!1;const E=new Set;function q(){if(!N){N=!0;do{for(let e=0;e<k.length;e+=1){const t=k[e];w(t),L(t.$$)}for(k.length=0;C.length;)C.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];E.has(t)||(E.add(t),t())}M.length=0}while(k.length);for(;T.length;)T.pop()();A=!1,N=!1,E.clear()}}function L(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const O=new Set;let I;function H(){I={r:0,c:[],p:I}}function z(){I.r||s(I.c),I=I.p}function B(e,t){e&&e.i&&(O.delete(e),e.i(t))}function R(e,t,n,s){if(e&&e.o){if(O.has(e))return;O.add(e),I.c.push(()=>{O.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function W(e){e&&e.c()}function P(e,n,r){const{fragment:i,on_mount:l,on_destroy:a,after_update:c}=e.$$;i&&i.m(n,r),j(()=>{const n=l.map(t).filter(o);a?a.push(...n):s(n),e.$$.on_mount=[]}),c.forEach(j)}function K(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,t){-1===e.$$.dirty[0]&&(k.push(e),A||(A=!0,S.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _(t,o,r,i,l,a,u=[-1]){const d=v;w(t);const p=o.props||{},h=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u};let f=!1;if(h.ctx=r?r(t,p,(e,n,...s)=>{const o=s.length?s[0]:n;return h.ctx&&l(h.ctx[e],h.ctx[e]=o)&&(h.bound[e]&&h.bound[e](o),f&&D(t,e)),n}):[],h.update(),f=!0,s(h.before_update),h.fragment=!!i&&i(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();o.intro&&B(t.$$.fragment),P(t,o.target,o.anchor),q()}w(d)}class G{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const U=48,X=24,F=[1,2,3,4,5,6,7,8,9,0,"-"],J={1:"core",2:"camp",3:"kiln",4:"mine1",5:"mine2",6:"mine3",7:"bridge",8:"copper-wall",9:"iron-wall",0:"launcher","-":"cleaner"},V={brick:"Brk",copper:"Cu",iron:"Fe",gold:"Au",uranium:"U"};function Y(t){let n,s,o,r,u,h,f=(-1==t[2]&&!t[0]||null==t[0]?"":t[0])+"";return{c(){n=d("div"),s=d("span"),o=p(f),y(s,"class","svelte-1swql8f"),y(n,"class",r=i("deposit-"+t[4]+" terrain-"+t[1]+" tiletype-"+t[3]+" territory-"+t[2]+(t[5]?" selected":""))+" svelte-1swql8f"),y(n,"style",u="top:"+32*t[7]+"px;left:"+32*t[6]+"px;")},m(e,r,i){a(e,n,r),l(n,s),l(s,o),i&&h(),h=m(n,"click",t[8])},p(e,[t]){5&t&&f!==(f=(-1==e[2]&&!e[0]||null==e[0]?"":e[0])+"")&&g(o,f),62&t&&r!==(r=i("deposit-"+e[4]+" terrain-"+e[1]+" tiletype-"+e[3]+" territory-"+e[2]+(e[5]?" selected":""))+" svelte-1swql8f")&&y(n,"class",r),192&t&&u!==(u="top:"+32*e[7]+"px;left:"+32*e[6]+"px;")&&y(n,"style",u)},i:e,o:e,d(e){e&&c(n),h()}}}function Q(e,t,n){const s=x();let o,r,{tile:i}=t,{army:l}=t,{terrain:a}=t,{territory:c}=t,{tiletype:u}=t,{deposit:d}=t,{selected:p}=t;return e.$set=e=>{"tile"in e&&n(9,i=e.tile),"army"in e&&n(0,l=e.army),"terrain"in e&&n(1,a=e.terrain),"territory"in e&&n(2,c=e.territory),"tiletype"in e&&n(3,u=e.tiletype),"deposit"in e&&n(4,d=e.deposit),"selected"in e&&n(5,p=e.selected)},e.$$.update=()=>{512&e.$$.dirty&&(i>=U*U?(n(6,o=(i-U*U)%X),n(7,r=(i-U*U)/X|0)):(n(6,o=i%U),n(7,r=i/U|0)))},[l,a,c,u,d,p,o,r,function(){s("click",i)},i]}class Z extends G{constructor(e){super(),_(this,e,Q,Y,r,{tile:9,army:0,terrain:1,territory:2,tiletype:3,deposit:4,selected:5})}}function ee(e,t,n){const s=e.slice();return s[14]=t[n],s}function te(e){let t;const n=new Z({props:{selected:e[0].has(e[14]),tile:e[14],terrain:e[3][e[14]],army:e[2][e[14]],territory:e[4][e[14]],deposit:e[1][e[14]],tiletype:e[5][e[14]]}});return n.$on("click",e[8]),{c(){W(n.$$.fragment)},m(e,s){P(n,e,s),t=!0},p(e,t){const s={};65&t&&(s.selected=e[0].has(e[14])),64&t&&(s.tile=e[14]),72&t&&(s.terrain=e[3][e[14]]),68&t&&(s.army=e[2][e[14]]),80&t&&(s.territory=e[4][e[14]]),66&t&&(s.deposit=e[1][e[14]]),96&t&&(s.tiletype=e[5][e[14]]),n.$set(s)},i(e){t||(B(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){K(n,e)}}}function ne(e){let t,n,s=e[6],o=[];for(let t=0;t<s.length;t+=1)o[t]=te(ee(e,s,t));const r=e=>R(o[e],1,1,()=>{o[e]=null});return{c(){t=d("div");for(let e=0;e<o.length;e+=1)o[e].c();y(t,"class","svelte-10afe2e")},m(s,r){a(s,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);e[13](t),n=!0},p(e,[n]){if(383&n){let i;for(s=e[6],i=0;i<s.length;i+=1){const r=ee(e,s,i);o[i]?(o[i].p(r,n),B(o[i],1)):(o[i]=te(r),o[i].c(),B(o[i],1),o[i].m(t,null))}for(H(),i=s.length;i<o.length;i+=1)r(i);z()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)B(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)R(o[e]);n=!1},d(n){n&&c(t),u(o,n),e[13](null)}}}function se(e,t,n){const s=x();let o,r,i,l,{planet:a="earth"}=t,{deposits:c}=t,{armies:u}=t,{terrain:d}=t,{territory:p}=t,{tiletypes:h}=t;console.log(r);let{selected:f=new Set}=t;return document.addEventListener("keydown",(function(e){switch(e.code){case"KeyW":case"KeyA":case"KeyS":case"KeyD":if(0!=f.size){let t,r=f.values().next().value;if("KeyW"==e.code&&(t=r-o),"KeyS"==e.code&&(t=r+o),"KeyA"==e.code&&(t=r-1),"KeyD"==e.code&&(t=r+1),"KeyA"==e.code||"KeyD"==e.code){if(Math.floor((t-i)/o)!=Math.floor((r-i)/o))return}else if(t>=i+o*o||t<i)return;s("move",{from:r,to:t}),f.clear(),f.add(t),n(0,f)}return;case"Backspace":for(let e of f)s("make",{tile:e,type:""});return}if(e.key in J)for(let t of f)s("make",{tile:t,type:J[e.key]});if("g"==e.key)for(let e of f)s("make",{tile:e,type:"greenhouse"});if("l"==e.key){let e=f.values().next().value;s("launch",{tile:e})}if("n"==e.key){let e=f.values().next().value;s("nuke",{tile:e})}})),e.$set=e=>{"planet"in e&&n(9,a=e.planet),"deposits"in e&&n(1,c=e.deposits),"armies"in e&&n(2,u=e.armies),"terrain"in e&&n(3,d=e.terrain),"territory"in e&&n(4,p=e.territory),"tiletypes"in e&&n(5,h=e.tiletypes),"selected"in e&&n(0,f=e.selected)},e.$$.update=()=>{3584&e.$$.dirty&&(n(10,o="earth"==a?U:X),n(11,i="earth"==a?0:U*U),n(6,r="earth"==a?[...Array(U*U).keys()]:[...Array(X*X).keys()].map(e=>e+i)),console.log(o)),1152&e.$$.dirty&&l&&n(7,l.style.width=n(7,l.style.height=32*o+"px",l),l)},[f,c,u,d,p,h,r,l,function(e){f.clear(),f.add(e.detail),n(0,f)},a,o,i,s,function(e){C[e?"unshift":"push"](()=>{n(7,l=e)})}]}class oe extends G{constructor(e){super(),_(this,e,se,ne,r,{planet:9,deposits:1,armies:2,terrain:3,territory:4,tiletypes:5,selected:0})}}function re(e,t,n){const s=e.slice();return s[4]=t[n],s}function ie(e){let t,n,s,o,r,i,u,f,m=e[4][0]+"",b=(0|e[0][e[4][1]])+"";return{c(){t=d("tr"),n=d("td"),s=p(m),o=h(),r=d("td"),i=p(b),u=h(),y(n,"class","svelte-rbfwso"),y(r,"class","svelte-rbfwso"),y(t,"class",f=e[4][2]||"")},m(e,c){a(e,t,c),l(t,n),l(n,s),l(t,o),l(t,r),l(r,i),l(t,u)},p(e,n){2&n&&m!==(m=e[4][0]+"")&&g(s,m),3&n&&b!==(b=(0|e[0][e[4][1]])+"")&&g(i,b),2&n&&f!==(f=e[4][2]||"")&&y(t,"class",f)},d(e){e&&c(t)}}}function le(t){let n,s,o=t[1],r=[];for(let e=0;e<o.length;e+=1)r[e]=ie(re(t,o,e));return{c(){n=d("table");for(let e=0;e<r.length;e+=1)r[e].c();y(n,"style",s="left:"+t[2]+"px;top:"+t[3]+"px"),y(n,"class","svelte-rbfwso")},m(e,t){a(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,[t]){if(3&t){let s;for(o=e[1],s=0;s<o.length;s+=1){const i=re(e,o,s);r[s]?r[s].p(i,t):(r[s]=ie(i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}12&t&&s!==(s="left:"+e[2]+"px;top:"+e[3]+"px")&&y(n,"style",s)},i:e,o:e,d(e){e&&c(n),u(r,e)}}}function ae(e,t,n){let{stats:s={}}=t,{labels:o=[]}=t,{x:r}=t,{y:i}=t;return e.$set=e=>{"stats"in e&&n(0,s=e.stats),"labels"in e&&n(1,o=e.labels),"x"in e&&n(2,r=e.x),"y"in e&&n(3,i=e.y)},[s,o,r,i]}class ce extends G{constructor(e){super(),_(this,e,ae,le,r,{stats:0,labels:1,x:2,y:3})}}function ue(e,t,n){const s=e.slice();return s[2]=t[n],s}function de(e){let t,n,s,o,r,i,u,f,m,b=e[2].key+"",$=e[2].name+"",v=!e[1]&&pe(e);return{c(){t=d("tr"),n=d("td"),s=d("kbd"),o=p(b),r=h(),i=d("td"),u=p($),f=h(),v&&v.c(),m=h(),y(n,"class","svelte-1k4icsq"),y(i,"class","svelte-1k4icsq")},m(e,c){a(e,t,c),l(t,n),l(n,s),l(s,o),l(t,r),l(t,i),l(i,u),l(t,f),v&&v.m(t,null),l(t,m)},p(e,n){1&n&&b!==(b=e[2].key+"")&&g(o,b),1&n&&$!==($=e[2].name+"")&&g(u,$),e[1]?v&&(v.d(1),v=null):v?v.p(e,n):(v=pe(e),v.c(),v.m(t,m))},d(e){e&&c(t),v&&v.d()}}}function pe(e){let t,n=me(e[2].cost)+"";return{c(){t=d("td"),y(t,"class","svelte-1k4icsq")},m(e,s){a(e,t,s),t.innerHTML=n},p(e,s){1&s&&n!==(n=me(e[2].cost)+"")&&(t.innerHTML=n)},d(e){e&&c(t)}}}function he(e){let t,n=e[2]&&de(e);return{c(){n&&n.c(),t=f()},m(e,s){n&&n.m(e,s),a(e,t,s)},p(e,s){e[2]?n?n.p(e,s):(n=de(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&c(t)}}}function fe(t){let n,s=t[0],o=[];for(let e=0;e<s.length;e+=1)o[e]=he(ue(t,s,e));return{c(){n=d("table");for(let e=0;e<o.length;e+=1)o[e].c();y(n,"class","svelte-1k4icsq")},m(e,t){a(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(3&t){let r;for(s=e[0],r=0;r<s.length;r+=1){const i=ue(e,s,r);o[r]?o[r].p(i,t):(o[r]=he(i),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=s.length}},i:e,o:e,d(e){e&&c(n),u(o,e)}}}function me(e){var t="";for(var n in e)t+='<span class="text-'+n+'">'+e[n]+" "+V[n]+"</span> ";return t}function ye(e,t,n){let{infos:s}=t,{minimized:o}=t;return e.$set=e=>{"infos"in e&&n(0,s=e.infos),"minimized"in e&&n(1,o=e.minimized)},[s,o]}class ge extends G{constructor(e){super(),_(this,e,ye,fe,r,{infos:0,minimized:1})}}function be(e,t,n){const s=e.slice();return s[11]=t[n],s}function $e(e){let t,n,s=e[5]?"Rel.":"Relationship";return{c(){t=d("th"),n=p(s),y(t,"class","large svelte-8a858p"),y(t,"colspan","3")},m(e,s){a(e,t,s),l(t,n)},p(e,t){32&t&&s!==(s=e[5]?"Rel.":"Relationship")&&g(n,s)},d(e){e&&c(t)}}}function ve(e){let t;return{c(){t=d("th"),t.textContent="❋",y(t,"class","svelte-8a858p")},m(e,n){a(e,t,n)},d(e){e&&c(t)}}}function we(e){let t;function n(e,t){return e[11]!=e[3]?ke:xe}let s=n(e),o=s(e);return{c(){o.c(),t=f()},m(e,n){o.m(e,n),a(e,t,n)},p(e,r){s===(s=n(e))&&o?o.p(e,r):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&c(t)}}}function xe(e){let t,n;return{c(){t=d("td"),y(t,"colspan",n=e[5]?1:3),y(t,"class","svelte-8a858p")},m(e,n){a(e,t,n)},p(e,s){32&s&&n!==(n=e[5]?1:3)&&y(t,"colspan",n)},d(e){e&&c(t)}}}function ke(e){let t,n,s,o,r=e[7][e[2][e[11]]]+"",i=!e[5]&&Ce(e);return{c(){t=d("td"),n=p(r),s=h(),i&&i.c(),o=f(),y(t,"class","relationship svelte-8a858p")},m(e,r){a(e,t,r),l(t,n),a(e,s,r),i&&i.m(e,r),a(e,o,r)},p(e,t){68&t&&r!==(r=e[7][e[2][e[11]]]+"")&&g(n,r),e[5]?i&&(i.d(1),i=null):i?i.p(e,t):(i=Ce(e),i.c(),i.m(o.parentNode,o))},d(e){e&&c(t),e&&c(s),i&&i.d(e),e&&c(o)}}}function Ce(e){let t,n;function s(e,n){return(null==t||65&n)&&(t=!(-1!=e[0].indexOf(e[11]))),t?Te:Me}let o=s(e,-1),r=o(e);return{c(){r.c(),n=f()},m(e,t){r.m(e,t),a(e,n,t)},p(e,t){o===(o=s(e,t))&&r?r.p(e,t):(r.d(1),r=o(e),r&&(r.c(),r.m(n.parentNode,n)))},d(e){r.d(e),e&&c(n)}}}function Me(t){let n;return{c(){n=d("td"),y(n,"colspan","2"),y(n,"class","svelte-8a858p")},m(e,t){a(e,n,t)},p:e,d(e){e&&c(n)}}}function Te(t){let n,o,r,i;return{c(){n=d("td"),n.textContent="↑",o=h(),r=d("td"),r.textContent="↓",y(n,"class","action svelte-8a858p"),y(r,"class","action svelte-8a858p")},m(e,l,c){a(e,n,l),a(e,o,l),a(e,r,l),c&&s(i),i=[m(n,"click",t[8]),m(r,"click",t[9])]},p:e,d(e){e&&c(n),e&&c(o),e&&c(r),s(i)}}}function Se(e){let t,n,s=Ne(e[4][e[11]].pollution)+"";return{c(){t=d("td"),n=p(s),y(t,"class","svelte-8a858p")},m(e,s){a(e,t,s),l(t,n)},p(e,t){80&t&&s!==(s=Ne(e[4][e[11]].pollution)+"")&&g(n,s)},d(e){e&&c(t)}}}function Ae(e){let t,n,s,o,r,u,f,m=e[1][e[11]]+"",b=1!=e[1].length&&we(e),$=e[4][e[11]]&&!e[5]&&Se(e);return{c(){t=d("tr"),n=d("td"),s=p(m),o=h(),b&&b.c(),r=h(),$&&$.c(),u=h(),y(n,"class","name svelte-8a858p"),y(t,"class",f=i("player-"+e[11]+" "+(-1!=e[0].indexOf(e[11])?"loser ":"")+(e[3]===e[11]?"self ":""))+" svelte-8a858p")},m(e,i){a(e,t,i),l(t,n),l(n,s),l(t,o),b&&b.m(t,null),l(t,r),$&&$.m(t,null),l(t,u)},p(e,n){66&n&&m!==(m=e[1][e[11]]+"")&&g(s,m),1!=e[1].length?b?b.p(e,n):(b=we(e),b.c(),b.m(t,r)):b&&(b.d(1),b=null),e[4][e[11]]&&!e[5]?$?$.p(e,n):($=Se(e),$.c(),$.m(t,u)):$&&($.d(1),$=null),73&n&&f!==(f=i("player-"+e[11]+" "+(-1!=e[0].indexOf(e[11])?"loser ":"")+(e[3]===e[11]?"self ":""))+" svelte-8a858p")&&y(t,"class",f)},d(e){e&&c(t),b&&b.d(),$&&$.d()}}}function je(t){let n,s,o,r,i,p,f=1!=t[1].length&&$e(t),m=!t[5]&&ve(),g=t[6],b=[];for(let e=0;e<g.length;e+=1)b[e]=Ae(be(t,g,e));return{c(){n=d("table"),s=d("tr"),o=d("th"),o.textContent="Player",r=h(),f&&f.c(),i=h(),m&&m.c(),p=h();for(let e=0;e<b.length;e+=1)b[e].c();y(o,"class","large svelte-8a858p"),y(n,"class","svelte-8a858p")},m(e,t){a(e,n,t),l(n,s),l(s,o),l(s,r),f&&f.m(s,null),l(s,i),m&&m.m(s,null),l(n,p);for(let e=0;e<b.length;e+=1)b[e].m(n,null)},p(e,[t]){if(1!=e[1].length?f?f.p(e,t):(f=$e(e),f.c(),f.m(s,i)):f&&(f.d(1),f=null),e[5]?m&&(m.d(1),m=null):m||(m=ve(),m.c(),m.m(s,null)),1023&t){let s;for(g=e[6],s=0;s<g.length;s+=1){const o=be(e,g,s);b[s]?b[s].p(o,t):(b[s]=Ae(o),b[s].c(),b[s].m(n,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=g.length}},i:e,o:e,d(e){e&&c(n),f&&f.d(),m&&m.d(),u(b,e)}}}function Ne(e){return e>0?"+"+e:String(0|e)}function Ee(e,t,n){let{players:s=[]}=t,{losers:o=[]}=t,{relationships:r=[]}=t,{userIndex:i}=t,{stats:l=[]}=t,{minimized:a}=t;const c=x();let u=s;return e.$set=e=>{"players"in e&&n(1,s=e.players),"losers"in e&&n(0,o=e.losers),"relationships"in e&&n(2,r=e.relationships),"userIndex"in e&&n(3,i=e.userIndex),"stats"in e&&n(4,l=e.stats),"minimized"in e&&n(5,a=e.minimized)},e.$$.update=()=>{if(67&e.$$.dirty){n(6,u=[]),null==o&&n(0,o=[]);for(let e=0;e<s.length;e++)-1==o.indexOf(e)&&u.push(e);n(6,u=u.concat(o)),n(6,u),n(0,o),n(1,s)}},[o,s,r,i,l,a,u,{"-1":"E",0:"N",1:"A"},function(e){let t=e.target.parentNode.className.indexOf("player-")+"player-".length,n=e.target.parentNode.className[t];c("status",{player:n,action:"upgrade"})},function(e){let t=e.target.parentNode.className.indexOf("player-")+"player-".length,n=e.target.parentNode.className[t];c("status",{player:n,action:"downgrade"})}]}class qe extends G{constructor(e){super(),_(this,e,Ee,je,r,{players:1,losers:0,relationships:2,userIndex:3,stats:4,minimized:5})}}function Le(t){let n,s;return{c(){n=d("button"),n.textContent="Next",y(n,"class","svelte-1sja3mo")},m(e,o,r){a(e,n,o),r&&s(),s=m(n,"click",t[13])},p:e,d(e){e&&c(n),s()}}}function Oe(t){let n,s,o,r=t[2][t[0]]&&Le(t);return{c(){n=d("div"),o=h(),r&&r.c(),s=new $(t[1],o),y(n,"class","svelte-1sja3mo")},m(e,t){a(e,n,t),s.m(n),l(n,o),r&&r.m(n,null)},p(e,[t]){2&t&&s.p(e[1]),e[2][e[0]]?r?r.p(e,t):(r=Le(e),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&c(n),r&&r.d()}}}function Ie(e,t,n){let{selected:s=new Set}=t,{userIndex:o}=t,{planet:r}=t,{deposits:i}=t,{armies:l}=t,{terrain:a}=t,{territory:c}=t,{tiletypes:u}=t;let d,p,h=0,f=[];return e.$set=e=>{"selected"in e&&n(3,s=e.selected),"userIndex"in e&&n(4,o=e.userIndex),"planet"in e&&n(5,r=e.planet),"deposits"in e&&n(6,i=e.deposits),"armies"in e&&n(7,l=e.armies),"terrain"in e&&n(8,a=e.terrain),"territory"in e&&n(9,c=e.territory),"tiletypes"in e&&n(10,u=e.tiletypes)},e.$$.update=()=>{if(8&e.$$.dirty&&n(11,d=s.values().next().value),7697&e.$$.dirty&&0==h&&("core"==u[d]&&c[d]==o&&n(12,f[0]=!0,f),"core"!=u[d]&&f[0]&&n(0,h+=1)),1553&e.$$.dirty&&1==h){let e=0;for(let t=0;t<U*U;t++)"kiln"==u[t]&&c[t]==o&&(e+=1);e>=2&&n(0,h+=1)}if(1553&e.$$.dirty&&3==h){let e=0;for(let t=0;t<U*U;t++)"kiln"==u[t]&&c[t]==o&&(e+=1);e>=5&&n(0,h+=1)}if(1553&e.$$.dirty&&4==h){let e=0;for(let t=0;t<U*U;t++)"camp"==u[t]&&c[t]==o&&(e+=1);e>=3&&n(0,h=5)}if(1553&e.$$.dirty&&6==h)for(let e=0;e<U*U;e++)if("mine1"==u[e]&&c[e]==o){n(0,h=7);break}if(1553&e.$$.dirty&&7==h){let e=0;for(let t=0;t<U*U;t++)if("mine1"==u[t]&&c[t]==o){e++;break}e>=4&&n(0,h=8)}if(1617&e.$$.dirty&&8==h)for(let e=0;e<U*U;e++)if("mine2"==u[e]&&"iron"==i[e]&&c[e]==o){n(0,h=8);break}if(1553&e.$$.dirty&&10==h)for(let e=0;e<U*U;e++)if("mine3"==u[e]&&c[e]==o){n(0,h=10);break}if(1553&e.$$.dirty&&11==h)for(let e=0;e<U*U;e++)if("launcher"==u[e]&&c[e]==o){n(0,h=11);break}if(33&e.$$.dirty&&12==h&&"mars"==r&&n(0,h=12),1553&e.$$.dirty&&13==h)for(let e=U*U;e<U*U+X*X;e++)if("mine2"==u[e]&&c[e]==o){n(0,h=13);break}if(1553&e.$$.dirty&&14==h)for(let e=0;e<U*U;e++)if("cleaner"==u[e]&&c[e]==o){n(0,h=14);break}1&e.$$.dirty&&n(1,p={0:"Welcome to worlds! To start out, select your <b>Core</b>, which is the tile that currently has 15 army. Then, move your army around by pressing WASD.",1:"We need more bricks! Move to an empty tile adjacent to your core and press <kbd>3</kbd> to build a <b>Kiln</b>. You may have to wait a while.",2:"That just cost 20 bricks. But don't worry! Each <b>Kiln</b> will give you 1 brick per turn.<br><br>The costs of any building is shown in the <b>bottom-left corner</b>. To see how much material you have, see the <b>top-left corner</b>.",3:"A Village consists of a core and the 8 tiles around it. Kilns must be located inside of a Village.<br><br>Build 3 more Kilns, for a total of 5.",4:"Good! Now, use the remaining 3 spots in your Village to build Camps by pressing <kbd>2</kbd>. Camps generate 1 army every 5 turns; having a large army is important for success later on.",5:"After you build up an army, use it to explore your island a bit.",6:"See those little brown squares? Those are copper deposits. Copper is an important resource that is required for many buildings. A <b>Mine v1</b> can be used to get copper.<br><br>Go to a copper deposit and build a Mine on top of it by pressing <kbd>4</kbd>.",7:"Build 3 more copper mines.",8:"Good! Our next step is to build a Mine v2 over an iron deposit the little silver squares). While you're waiting, it might be a good idea to build some more copper mines.<br><br>Gather copper and build a Mine v2 over an iron deposit by pressing <kbd>5</kbd>.",9:"In addition to iron, Mine v2 can also mine copper and uranium.<br><br>Build some more iron & copper mines.",10:"Next, we have to mine some gold, which we need to build a Launcher to get to Mars. Only the Mine v3 can mine gold.<br><br>Find a gold deposit (small yellow squares). You'll have to cross the ocean. Build a Mine v3 on top of the deposit by pressing <kbd>6</kbd>.",11:"Hooray! Now it's time to build a Launcher, which will get us to Mars. Launchers can be located anywhere on land.",12:"Let's go to Mars! Select your Launcher and press <kbd>L</kbd>.",13:"Alright! Move to a uranium deposit (the little purple squares) and build a Mine v2.",14:"It's time to talk about pollution. Pollution is generated by Kilns and Mine v1s located on Earth. Once a pollution reaches 50000, all of Earth is wiped out. The only way to undo pollution is to build Cleaners on Earth, which subtract one per turn.<br><br>Move back to Earth and build a Cleaner.",15:"Alright! You've reached the end of this tutorial. A couple of things about combat to note:<br><ul><li>Pressing <kbd>N</kbd> will nuke the currently selected tile and all tiles in a 5x5 radius around it. Each nuke adds 2000 pollution.</li><li>Walls are a barrier; an army cannot pass through it unless it has more soldiers than the wall's strength. Iron walls are stronger than copper walls which are stronger than brick walls.</li><li>If you lose all of your Cores, you die, so keep your Cores protected!</li></ul>"}[h])},[h,p,{2:!0,5:!0,9:!0},s,o,r,i,l,a,c,u,d,f,()=>n(0,h+=1)]}class He extends G{constructor(e){super(),_(this,e,Ie,Oe,r,{selected:3,userIndex:4,planet:5,deposits:6,armies:7,terrain:8,territory:9,tiletypes:10})}}function ze(e){let t,n,s;return{c(){t=d("p"),t.textContent="I created this in order to warn future civilizations about the plight of this one.",n=h(),s=d("p"),s.textContent="The future rests on your hands - whoever you may be - and whether you choose to\ncooperate with each other or not.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u")},m(e,o){a(e,t,o),a(e,n,o),a(e,s,o)},d(e){e&&c(t),e&&c(n),e&&c(s)}}}function Be(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="Switzerland to Rennovate Bunker System",n=h(),s=d("h4"),s.textContent="June 29, 2139",o=h(),r=d("p"),r.innerHTML="<b>BERN</b> - Switzerland recently launched a new initiative\nto rennovate its existing bunker system, designed to house millions\nof citizens in the case of war.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function Re(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="NASA Announces Venture to Colonize Mars",n=h(),s=d("h4"),s.textContent="June 2, 2139",o=h(),r=d("p"),r.innerHTML="<b>WASHINGTON, D.C.</b> - NASA recently announced that it would be sending 10 astronauts on a rocket\nheaded for Mars. &quot;We hope to establish a self-sufficient colony on Mars by\nusing a combination of solar and nuclear energy to power the base and grow\ncrops that have been bio-engineered to grow in the environment on Mars,&quot; a\nspokesperson said.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function We(e){let t,n,s,o,r,i,l;return{c(){t=d("h3"),t.textContent='China Arrests Scientist for "Disrupting the Harmonious Balance of Society"',n=h(),s=d("h4"),s.textContent="May 15, 2139",o=h(),r=d("p"),r.innerHTML="<b>TAIEPEI</b> - Li Bao, a climate scientist, had been urging the Chinese goverment to take actions\nagainst climate change on his Weibo account, warning that if no action is taken, millions\nof people would drown. Last Monday, he disappeared, with no comment from the goverment\nas to his whereabouts. On Wednesday, the Chinese government formally announced that he had\nbeen sentenced to five years in prison for &quot;disrupting the harmonious balance of society&quot; and causing\nunnecessary panic.",i=h(),l=d("p"),l.textContent="The Chinese government has repeatedly offered assurances that the damage\nthat climate change will inflict will be mitigated, despite warnings\nfrom scientists.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u"),y(l,"class","svelte-1j12y0u")},m(e,c){a(e,t,c),a(e,n,c),a(e,s,c),a(e,o,c),a(e,r,c),a(e,i,c),a(e,l,c)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r),e&&c(i),e&&c(l)}}}function Pe(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="Unrest in Santo Dominigo as Evacuation Order Announced",n=h(),s=d("h4"),s.textContent="May 12, 2139",o=h(),r=d("p"),r.innerHTML="<b>SANTIAGO</b> - The Dominican government has ordered all residents of\nSanto Dominigo to evacuate within 1 month. Protests have begun around all parts\nof the city, which protesters chanting slogans like &quot;Rather die than leave.&quot;\nProtesters are accusing the president of causing unnecessary panic and\nprofiting off of it. He has close ties with the CEO of Memorias, a company\nthat specializes in creating small items that supposedly stop the rising of the sea.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function Ke(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="United States and China Blame Each Other for Natural Disasters",n=h(),s=d("h4"),s.textContent="May 6, 2139",o=h(),r=d("p"),r.innerHTML="<b>WASHINGTON, D.C.</b> - The United States and China have been throwing attacks at\neach other for the past few days. China accuses the U.S. of laxly enforcing\nits climate regulations. &quot;We believe that all countries must do their part,\nincluding the United States&quot;, a spokesperson for the Chinese government said.\nThe United States, on the other hand, has pointed to China&#39;s numerous\nfactory farms, which China repeatedly denies.\n",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function De(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="Scientist Publicly Challenges Darwinism",n=h(),s=d("h4"),s.textContent="May 4, 2139",o=h(),r=d("p"),r.innerHTML="<b>BEIJING</b> - Scientist Liao Shi blamed scientists&#39; acceptance of Darwin&#39;s theory of evolution\nfor the recent natural disasters that have occurred, which have included two consecutive hurricanes hitting the\nUnited States&#39; east coast, a tsunami affecting Japan and China, and twenty-three tornadoes hitting the The Midwest, all within the span of two months.\n&quot;The heavens are not happy with our acceptance of blasphemous\ntheories,&quot; he said at a conference last Friday.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function _e(e){let t,n,s,o,r;return{c(){t=d("h3"),t.textContent="Sea Level Rise Worries Amsterdam Officials",n=h(),s=d("h4"),s.textContent="March 15, 2139",o=h(),r=d("p"),r.innerHTML="<b>AMSTERDAM</b> - A recent report that came out last Wednesday\nfound that sea levels were rising at an alarming 1cm per day, much higher than previous estimates.\nCity officials in Amsterdam are worried that the city&#39;s complex sea-resistance system is not going to hold up\nagainst this alarming rate. &quot;We did not forsee that this system would need to resist sea levels this high,&quot; an architect said\nwho wished to remain anonymous.",y(t,"class","svelte-1j12y0u"),y(s,"class","svelte-1j12y0u"),y(r,"class","svelte-1j12y0u")},m(e,i){a(e,t,i),a(e,n,i),a(e,s,i),a(e,o,i),a(e,r,i)},d(e){e&&c(t),e&&c(n),e&&c(s),e&&c(o),e&&c(r)}}}function Ge(t){let n,s;return{c(){n=d("button"),n.textContent="<",b(n,"left","16px"),y(n,"class","svelte-1j12y0u")},m(e,o,r){a(e,n,o),r&&s(),s=m(n,"click",t[4])},p:e,d(e){e&&c(n),s()}}}function Ue(t){let n,s;return{c(){n=d("button"),n.textContent=">",b(n,"right","16px"),y(n,"class","svelte-1j12y0u")},m(e,o,r){a(e,n,o),r&&s(),s=m(n,"click",t[5])},p:e,d(e){e&&c(n),s()}}}function Xe(t){let n,s,o,r,i,u,f,m,b;function $(e,t){return 1===e[2]?_e:2===e[2]?De:3===e[2]?Ke:4===e[2]?Pe:5===e[2]?We:6==e[2]?Re:7==e[2]?Be:15===e[2]?ze:void 0}let v=$(t),w=v&&v(t),x=1!=t[2]&&Ge(t),k=t[2]<t[1]&&Ue(t);return{c(){n=d("div"),w&&w.c(),s=h(),o=d("span"),r=p(t[2]),i=p(" / "),u=p(t[1]),f=h(),x&&x.c(),m=h(),k&&k.c(),y(o,"class","page svelte-1j12y0u"),y(n,"style",b="display:"+(t[0]?"block":"none")),y(n,"class","svelte-1j12y0u")},m(e,t){a(e,n,t),w&&w.m(n,null),l(n,s),l(n,o),l(o,r),l(o,i),l(o,u),l(n,f),x&&x.m(n,null),l(n,m),k&&k.m(n,null)},p(e,[t]){v!==(v=$(e))&&(w&&w.d(1),w=v&&v(e),w&&(w.c(),w.m(n,s))),4&t&&g(r,e[2]),2&t&&g(u,e[1]),1!=e[2]?x?x.p(e,t):(x=Ge(e),x.c(),x.m(n,m)):x&&(x.d(1),x=null),e[2]<e[1]?k?k.p(e,t):(k=Ue(e),k.c(),k.m(n,null)):k&&(k.d(1),k=null),1&t&&b!==(b="display:"+(e[0]?"block":"none"))&&y(n,"style",b)},i:e,o:e,d(e){e&&c(n),w&&w.d(),x&&x.d(),k&&k.d()}}}function Fe(e,t,n){let s,{documents:o}=t,{show:r}=t,i=1;return e.$set=e=>{"documents"in e&&n(3,o=e.documents),"show"in e&&n(0,r=e.show)},e.$$.update=()=>{8&e.$$.dirty&&n(1,s=Math.min(o,15))},[r,s,i,o,()=>n(2,i-=1),()=>n(2,i+=1)]}class Je extends G{constructor(e){super(),_(this,e,Fe,Xe,r,{documents:3,show:0})}}function Ve(e){let t,n,s,o,r,i,u,f,b,$,v="earth"==e[16]?"Mars":"Earth";const w=new ce({props:{stats:e[14],labels:e[21],x:"16",y:"16"}}),x=new ce({props:{stats:e[12],labels:e[13],x:"16",y:"88"}});let k=11==e[18].length&&Ye(e);const C=new qe({props:{players:e[6],losers:e[7],userIndex:e[17],relationships:e[5],stats:e[15],minimized:e[11]}});return C.$on("status",e[27]),{c(){W(w.$$.fragment),t=h(),W(x.$$.fragment),n=h(),k&&k.c(),s=h(),W(C.$$.fragment),o=h(),r=d("button"),i=p("To "),u=p(v),y(r,"style",f="z-index:5;top:300px;left:16px;position:fixed;display:"+(e[9]?"block":"none"))},m(c,d,p){P(w,c,d),a(c,t,d),P(x,c,d),a(c,n,d),k&&k.m(c,d),a(c,s,d),P(C,c,d),a(c,o,d),a(c,r,d),l(r,i),l(r,u),b=!0,p&&$(),$=m(r,"click",e[31])},p(e,t){const n={};16384&t[0]&&(n.stats=e[14]),w.$set(n);const o={};4096&t[0]&&(o.stats=e[12]),8192&t[0]&&(o.labels=e[13]),x.$set(o),11==e[18].length?k?(k.p(e,t),B(k,1)):(k=Ye(e),k.c(),B(k,1),k.m(s.parentNode,s)):k&&(H(),R(k,1,1,()=>{k=null}),z());const i={};64&t[0]&&(i.players=e[6]),128&t[0]&&(i.losers=e[7]),131072&t[0]&&(i.userIndex=e[17]),32&t[0]&&(i.relationships=e[5]),32768&t[0]&&(i.stats=e[15]),2048&t[0]&&(i.minimized=e[11]),C.$set(i),(!b||65536&t[0])&&v!==(v="earth"==e[16]?"Mars":"Earth")&&g(u,v),(!b||512&t[0]&&f!==(f="z-index:5;top:300px;left:16px;position:fixed;display:"+(e[9]?"block":"none")))&&y(r,"style",f)},i(e){b||(B(w.$$.fragment,e),B(x.$$.fragment,e),B(k),B(C.$$.fragment,e),b=!0)},o(e){R(w.$$.fragment,e),R(x.$$.fragment,e),R(k),R(C.$$.fragment,e),b=!1},d(e){K(w,e),e&&c(t),K(x,e),e&&c(n),k&&k.d(e),e&&c(s),K(C,e),e&&c(o),e&&c(r),$()}}}function Ye(e){let t;const n=new ge({props:{infos:e[18],minimized:e[11]}});return{c(){W(n.$$.fragment)},m(e,s){P(n,e,s),t=!0},p(e,t){const s={};262144&t[0]&&(s.infos=e[18]),2048&t[0]&&(s.minimized=e[11]),n.$set(s)},i(e){t||(B(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){K(n,e)}}}function Qe(e){let t,n,s,o,r,i;function l(t){e[30].call(null,t)}let u={planet:e[16],armies:e[0],terrain:e[1],territory:e[2],deposits:e[3],tiletypes:e[4]};void 0!==e[8]&&(u.selected=e[8]);const d=new oe({props:u});C.push(()=>function(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}(d,"selected",l)),d.$on("move",e[23]),d.$on("make",e[24]),d.$on("launch",e[25]),d.$on("nuke",e[26]);let m=!e[10]&&Ve(e);const y=new Je({props:{documents:e[19],show:e[20]}});let g=e[22]&&function(e){let t;const n=new He({props:{armies:e[0],terrain:e[1],territory:e[2],deposits:e[3],tiletypes:e[4],selected:e[8],userIndex:e[17],planet:e[16]}});return{c(){W(n.$$.fragment)},m(e,s){P(n,e,s),t=!0},p(e,t){const s={};1&t[0]&&(s.armies=e[0]),2&t[0]&&(s.terrain=e[1]),4&t[0]&&(s.territory=e[2]),8&t[0]&&(s.deposits=e[3]),16&t[0]&&(s.tiletypes=e[4]),256&t[0]&&(s.selected=e[8]),131072&t[0]&&(s.userIndex=e[17]),65536&t[0]&&(s.planet=e[16]),n.$set(s)},i(e){t||(B(n.$$.fragment,e),t=!0)},o(e){R(n.$$.fragment,e),t=!1},d(e){K(n,e)}}}(e);return{c(){W(d.$$.fragment),n=h(),m&&m.c(),s=h(),W(y.$$.fragment),o=p("ni\n\n"),g&&g.c(),r=f()},m(e,t){P(d,e,t),a(e,n,t),m&&m.m(e,t),a(e,s,t),P(y,e,t),a(e,o,t),g&&g.m(e,t),a(e,r,t),i=!0},p(e,n){const o={};var r;65536&n[0]&&(o.planet=e[16]),1&n[0]&&(o.armies=e[0]),2&n[0]&&(o.terrain=e[1]),4&n[0]&&(o.territory=e[2]),8&n[0]&&(o.deposits=e[3]),16&n[0]&&(o.tiletypes=e[4]),!t&&256&n[0]&&(t=!0,o.selected=e[8],r=()=>t=!1,T.push(r)),d.$set(o),e[10]?m&&(H(),R(m,1,1,()=>{m=null}),z()):m?(m.p(e,n),B(m,1)):(m=Ve(e),m.c(),B(m,1),m.m(s.parentNode,s));const i={};524288&n[0]&&(i.documents=e[19]),1048576&n[0]&&(i.show=e[20]),y.$set(i),e[22]&&g.p(e,n)},i(e){i||(B(d.$$.fragment,e),B(m),B(y.$$.fragment,e),B(g),i=!0)},o(e){R(d.$$.fragment,e),R(m),R(y.$$.fragment,e),R(g),i=!1},d(e){K(d,e),e&&c(n),m&&m.d(e),e&&c(s),K(y,e),e&&c(o),g&&g.d(e),e&&c(r)}}}function Ze(e,t,n){let s=[],o=[],r=[],i=[],l=[],a=[],c=[],u=[],d=new Set,p=!1,h=!1,f=!1,m={},y=[["Brk","brick","text-brick"],["Cu","copper","text-copper"],["Fe","iron","text-iron"],["Au","gold","text-gold"],["U","uranium","text-uranium"]],g={};let b=[],$="earth";const v=location.hash.endsWith(":tutorial"),w=location.pathname.split("/")[1],x=location.hash.slice(1).split(":")[0];let k;{let e=new XMLHttpRequest;e.onload=function(){n(17,k=0|e.responseText)},e.open("POST","/api/"+w+"/join?key="+x),e.send()}let C=[];{let e=0;for(let t of F){let s=J[t],o=new XMLHttpRequest,r=e;o.onload=function(){let e=JSON.parse(o.responseText);e.key=t,n(18,C[r]=e,C),n(18,C)},o.open("GET","/api/tileinfo?type="+s),o.send(),e+=1}}setInterval((function(){var e=new XMLHttpRequest;e.onload=function(){var t=JSON.parse(e.responseText);n(0,s=t.armies),n(1,o=t.terrain),n(2,r=t.territory),n(3,i=t.deposits),n(4,l=t.tiletypes),n(12,m=t.amounts[k]),n(14,g.pollution=t.pollution,g),n(14,g.turn=t.turn,g),n(14,g),n(15,b=t.stats),n(6,c=t.players),n(7,u=t.losers),n(5,a=t.relationships)},e.open("GET","/api/"+w+"/data.json?key="+x),e.send()}),500);let M=0,T=!1;window.addEventListener("keydown",(function(e){"h"==e.key&&n(10,h=!h),"m"==e.key&&n(11,f=!f),"r"==e.key&&n(20,T=0!=M&&!T)}));return e.$$.update=()=>{if(4096&e.$$.dirty[0]&&(m.green?n(13,y[5]=["G","green","text-green"],y):n(13,y.length=5,y)),65536&e.$$.dirty[0]&&("earth"==$?(document.title="worlds • earth",document.body.style.background="#3F6ABF"):(document.title="worlds • mars",document.body.style.background="#993354")),655380&e.$$.dirty[0]){n(19,M=0);for(let e=0;e<r.length;e++)r[e]==k&"greenhouse"==l[e]&&n(19,M+=1)}},[s,o,r,i,l,a,c,u,d,p,h,f,m,y,g,b,$,k,C,M,T,[["Turn","turn"],["Pollution","pollution"]],v,function(e){var t=new XMLHttpRequest;t.open("POST","/api/"+w+"/move?from="+e.detail.from+"&to="+e.detail.to+"&key="+x),t.send()},function(e){var t=new XMLHttpRequest;t.open("POST","/api/"+w+"/make?tile="+e.detail.tile+"&type="+e.detail.type+"&key="+x),t.send()},function(e){var t=new XMLHttpRequest;t.onload=function(){200==t.status&&(n(16,$="mars"),n(9,p=!0))},t.open("POST","/api/"+w+"/launch?tile="+e.detail.tile+"&key="+x),t.send()},function(e){var t=new XMLHttpRequest;t.open("POST","/api/"+w+"/nuke?tile="+e.detail.tile+"&key="+x),t.send()},function(e){var t=new XMLHttpRequest;t.open("POST","/api/"+w+"/relationship?action="+e.detail.action+"&player="+e.detail.player+"&key="+x),t.send()},w,x,function(e){d=e,n(8,d)},()=>{n(16,$="earth"==$?"mars":"earth")}]}return new class extends G{constructor(e){super(),_(this,e,Ze,Qe,r,{},[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=game.js.map
